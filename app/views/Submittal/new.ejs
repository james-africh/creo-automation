<% for (let compartment of compArray) { %>
    <% if (compartment.compType == 'brk') { %>
        <% let brkCompID = "comp" + compartment.position + "brk"; %>
        <ol data-draggable="target" class="<%-brkCompID%>" id="<%-sectionID%>-<%=compartment.position%>-brk" style="width: 100%; height: 23%; background-color:#e6e1e1; border-width:medium; border-color: #b1e7d5;">
            <% for (let el of deviceData) { %>
                <% if(el.comp == compartment.position && el.secID == section.secID) { %>
                    <% if (el.catCode.includes('MC')){ %>
                        <li data-draggable="item" id="B<%= el.devID%>_brk" class="mccbItem"  style="background-color: #fcca9c;">
                            <%= el.devDesignation %>
                        </li>
                    <% } else { %>
                        <li data-draggable="item" id="B<%= el.devID%>_brk" class="iccbItem" style="background-color: #b1e7d5;">
                            <%= el.devDesignation %>
                        </li>
                    <% } %>
                <% } %>
            <% } %>
        </ol>
    <% } else if (compartment.compType == 'control') { %>
        <% if (compartment.position == 'A') { %>
            <% if (compArray[1].compType != 'control') { %>
            <ol data-draggable="target" class="comp<%=compartment.position%>control controlComp" id="<%=sectionID%>-<%=compartment.position%>-control">
            </ol>
            <% } %>
        <% } else if (compartment.position == 'B') { %>
            <% if (compArray[2].compType != 'control') { %>
                <% if (compArray[0].compType == 'control') { %>
                <ol data-draggable="target" class="comp<%=compartment.position%>control controlComp" id="<%=sectionID%>-<%=compartment.position%>-control" style="height: 46%;">
                </ol>
                <% } else if (compArray[0].compType != 'control') { %>
                <ol data-draggable="target" class="comp<%=compartment.position%>control controlComp" id="<%=sectionID%>-<%=compartment.position%>-control">
                </ol>
                <% } %>
            <% } %>
        <% } else if (compartment.position == 'C') { %>
            <% if (compArray[3].compType != 'control') { %>
                <% if (compArray[0].compType == 'control' && compArray[1].compType == 'control') { %>
                <ol data-draggable="target" class="comp<%=compartment.position%>control controlComp" id="<%=sectionID%>-<%=compartment.position%>-control" style="height: 69%;">
                </ol>
                <% } else if (compArray[0].compType != 'control' && compArray[1].compType == 'control') { %>
                <ol data-draggable="target" class="comp<%=compartment.position%>control controlComp" id="<%=sectionID%>-<%=compartment.position%>-control" style="height: 46%;">
                </ol>
                <% } else if (compArray[1].compType != 'control') { %>
                <ol data-draggable="target" class="comp<%=compartment.position%>control controlComp" id="<%=sectionID%>-<%=compartment.position%>-control">
                </ol>
                <% } %>
            <% } %>
        <% } else if (compartment.position == 'D') { %>
            <% if (compArray[0].compType == 'control' && compArray[1].compType == 'control' && compArray[2].compType == 'control') { %>
            <ol data-draggable="target" class="comp<%=compartment.position%>control controlComp" id="<%=sectionID%>-<%=compartment.position%>-control" style="height: 100%;">
            </ol>
            <% } else if (compArray[0].compType != 'control' && compArray[1].compType == 'control' && compArray[2].compType == 'control') { %>
            <ol data-draggable="target" class="comp<%=compartment.position%>control controlComp" id="<%=sectionID%>-<%=compartment.position%>-control" style="height: 69%;">
            </ol>
            <% } else if (compArray[1].compType != 'control' && compArray[2].compType == 'control') { %>
            <ol data-draggable="target" class="comp<%=compartment.position%>control controlComp" id="<%=sectionID%>-<%=compartment.position%>-control" style="height: 46%;">
            </ol>
            <% } else if (compArray[2].compType != 'control') { %>
            <ol data-draggable="target" class="comp<%=compartment.position%>control controlComp" id="<%=sectionID%>-<%=compartment.position%>-control">
            </ol>
            <% } %>
        <% } %>
    <% } else if (compartment.compType == 'panelboard') { %>
        <% if (compartment.position == 'A') { %>
            <% if (compArray[1].compType != 'panelboard') { %>
            <ol data-draggable="target" class="comp<%=compartment.position%>panelboard" id="<%=sectionID%>-<%=compartment.position%>-panelboard">
                <% for(let el of deviceData){ %>
                    <% if(el.comp == compartment.position && el.secID == section.secID){ %>
                        <% if(el.catCode.includes('MC')){ %>
                            <li data-draggable="item" id="B<%= el.devID%>_panelboard" class="mccbItem"  style="background-color: #fcca9c;">
                                <%= el.devDesignation %>
                            </li>
                        <% } else {  %>
                            <li data-draggable="item" id="B<%= el.devID%>_panelboard" class="iccbItem" style="background-color: #b1e7d5;">
                                <%= el.devDesignation %>
                            </li>
                        <% } %>
                    <% } %>
                <% } %>
            </ol>
            <% } %>
        <% } else if (compartment.position == 'B') { %>
            <% if (compArray[2].compType != 'panelboard') { %>
                <% if (compArray[0].compType == 'panelboard') { %>
                <ol data-draggable="target" class="comp<%=compartment.position%>panelboard" id="<%=sectionID%>-<%=compartment.position%>-panelboard" style="height: 46%;">
                    <% for(let el of deviceData){ %>
                        <% if(el.comp == compartment.position && el.secID == section.secID){ %>
                            <% if(el.catCode.includes('MC')){ %>
                                <li data-draggable="item" id="B<%= el.devID%>_panelboard" class="mccbItem"  style="background-color: #fcca9c;">
                                    <%= el.devDesignation %>
                                </li>
                            <% } else {  %>
                                <li data-draggable="item" id="B<%= el.devID%>_panelboard" class="iccbItem" style="background-color: #b1e7d5;">
                                    <%= el.devDesignation %>
                                </li>
                            <% } %>
                        <% } %>
                    <% } %>
                </ol>
                <% } else if (compArray[0].compType != 'panelboard') { %>
                <ol data-draggable="target" class="comp<%=compartment.position%>panelboard" id="<%=sectionID%>-<%=compartment.position%>-panelboard">
                    <% for(let el of deviceData){ %>
                        <% if(el.comp == compartment.position && el.secID == section.secID){ %>
                            <% if(el.catCode.includes('MC')){ %>
                                <li data-draggable="item" id="B<%= el.devID%>_panelboard" class="mccbItem"  style="background-color: #fcca9c;">
                                    <%= el.devDesignation %>
                                </li>
                            <% } else {  %>
                                <li data-draggable="item" id="B<%= el.devID%>_panelboard" class="iccbItem" style="background-color: #b1e7d5;">
                                    <%= el.devDesignation %>
                                </li>
                            <% } %>
                        <% } %>
                    <% } %>
                </ol>
                <% } %>
            <% } %>
        <% } else if (compartment.position == 'C') { %>
            <% if (compArray[3].compType != 'panelboard') { %>
                <% if (compArray[0].compType == 'panelboard' && compArray[1].compType == 'panelboard') { %>
                <ol data-draggable="target" class="comp<%=compartment.position%>panelboard" id="<%=sectionID%>-<%=compartment.position%>-panelboard" style="height:69%;">
                    <% for(let el of deviceData){ %>
                        <% if(el.comp == compartment.position && el.secID == section.secID){ %>
                            <% if(el.catCode.includes('MC')){ %>
                                <li data-draggable="item" id="B<%= el.devID%>_panelboard" class="mccbItem"  style="background-color: #fcca9c;">
                                    <%= el.devDesignation %>
                                </li>
                            <% } else {  %>
                                <li data-draggable="item" id="B<%= el.devID%>_panelboard" class="iccbItem" style="background-color: #b1e7d5;">
                                    <%= el.devDesignation %>
                                </li>
                            <% } %>
                        <% } %>
                    <% } %>
                </ol>
                <% } else if (compArray[0].compType != 'panelboard' && compArray[1].compType == 'panelboard') { %>
                <ol data-draggable="target" class="comp<%=compartment.position%>panelboard" id="<%=sectionID%>-<%=compartment.position%>-panelboard" style="height:46%;">
                    <% for(let el of deviceData){ %>
                        <% if(el.comp == compartment.position && el.secID == section.secID){ %>
                            <% if(el.catCode.includes('MC')){ %>
                                <li data-draggable="item" id="B<%= el.devID%>_panelboard" class="mccbItem"  style="background-color: #fcca9c;">
                                    <%= el.devDesignation %>
                                </li>
                            <% } else {  %>
                                <li data-draggable="item" id="B<%= el.devID%>_panelboard" class="iccbItem" style="background-color: #b1e7d5;">
                                    <%= el.devDesignation %>
                                </li>
                            <% } %>
                        <% } %>
                    <% } %>
                </ol>
                <% } %>
            <% } %>
        <% } else if (compartment.position == 'D') { %>
            <% if (compArray[0].compType == 'panelboard' && compArray[1].compType == 'panelboard' && compArray[2].compType == 'panelboard') { %>
            <ol data-draggable="target" class="comp<%=compartment.position%>panelboard" id="<%=sectionID%>-<%=compartment.position%>-panelboard" style="height:100%;">
                <% for(let el of deviceData){ %>
                    <% if(el.comp == compartment.position && el.secID == section.secID){ %>
                        <% if(el.catCode.includes('MC')){ %>
                            <li data-draggable="item" id="B<%= el.devID%>_panelboard" class="mccbItem"  style="background-color: #fcca9c;">
                                <%= el.devDesignation %>
                            </li>
                        <% } else {  %>
                            <li data-draggable="item" id="B<%= el.devID%>_panelboard" class="iccbItem" style="background-color: #b1e7d5;">
                                <%= el.devDesignation %>
                            </li>
                        <% } %>
                    <% } %>
                <% } %>
            </ol>
            <% } else if (compArray[0].compType != 'panelboard' && compArray[1].compType == 'panelboard' && compArray[2].compType == 'panelboard') { %>
            <ol data-draggable="target" class="comp<%=compartment.position%>panelboard" id="<%=sectionID%>-<%=compartment.position%>-panelboard" style="height:69%;">
                <% for(let el of deviceData){ %>
                    <% if(el.comp == compartment.position && el.secID == section.secID){ %>
                        <% if(el.catCode.includes('MC')){ %>
                            <li data-draggable="item" id="B<%= el.devID%>_panelboard" class="mccbItem"  style="background-color: #fcca9c;">
                                <%= el.devDesignation %>
                            </li>
                        <% } else {  %>
                            <li data-draggable="item" id="B<%= el.devID%>_panelboard" class="iccbItem" style="background-color: #b1e7d5;">
                                <%= el.devDesignation %>
                            </li>
                        <% } %>
                    <% } %>
                <% } %>
            </ol>
            <% } else if (compArray[1].compType != 'panelboard' && compArray[2].compType == 'panelboard') { %>
            <ol data-draggable="target" class="comp<%=compartment.position%>panelboard" id="<%=sectionID%>-<%=compartment.position%>-panelboard" style="height:46%;">
                <% for(let el of deviceData){ %>
                    <% if(el.comp == compartment.position && el.secID == section.secID){ %>
                        <% if(el.catCode.includes('MC')){ %>
                            <li data-draggable="item" id="B<%= el.devID%>_panelboard" class="mccbItem"  style="background-color: #fcca9c;">
                                <%= el.devDesignation %>
                            </li>
                        <% } else {  %>
                            <li data-draggable="item" id="B<%= el.devID%>_panelboard" class="iccbItem" style="background-color: #b1e7d5;">
                                <%= el.devDesignation %>
                            </li>
                        <% } %>
                    <% } %>
                <% } %>
            </ol>
            <% } else if (compArray[2].compType != 'panelboard') { %>
            <ol data-draggable="target" class="comp<%=compartment.position%>panelboard" id="<%=sectionID%>-<%=compartment.position%>-panelboard">
                <% for(let el of deviceData){ %>
                    <% if(el.comp == compartment.position && el.secID == section.secID){ %>
                        <% if(el.catCode.includes('MC')){ %>
                            <li data-draggable="item" id="B<%= el.devID%>_panelboard" class="mccbItem"  style="background-color: #fcca9c;">
                                <%= el.devDesignation %>
                            </li>
                        <% } else {  %>
                            <li data-draggable="item" id="B<%= el.devID%>_panelboard" class="iccbItem" style="background-color: #b1e7d5;">
                                <%= el.devDesignation %>
                            </li>
                        <% } %>
                    <% } %>
                <% } %>
            </ol>
            <% } %>
        <% } %>
    <% } %>
<% } %>