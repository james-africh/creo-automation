<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title><%= title %></title>
    <meta content="Quote Detail" name="SAI-APS-Portal" />
    <link rel="shortcut icon" href="/public/assets/images/SAI-Logo.JPG">
    <link rel="stylesheet" href="/public/plugins/morris/morris.css">

    <link href="/public/plugins/RWD-Table-Patterns/dist/css/rwd-table.min.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="/public/plugins/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css" rel="stylesheet" />
    <link href="/public/plugins/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css" rel="stylesheet" />
    <link href="/public/plugins/select2/css/select2.min.css" rel="stylesheet" type="text/css" />
    <link href="/public/plugins/bootstrap-touchspin/css/jquery.bootstrap-touchspin.min.css" rel="stylesheet" />

    <link href="/public/assets/css/breakerDragDrop.css" rel="stylesheet" type="text/css" />
    <link href="/public/plugins/jquery-ui/jquery-ui.min.css" rel="stylesheet" type="text/css" />
    <!-- ION Slider -->
    <link href="/public/plugins/ion-rangeslider/ion.rangeSlider.css" rel="stylesheet" type="text/css"/>
    <link href="/public/plugins/ion-rangeslider/ion.rangeSlider.skinModern.css" rel="stylesheet" type="text/css"/>

    <link href="/public/assets/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/public/assets/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/public/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/public/assets/css/style.css" rel="stylesheet" type="text/css">
</head>

<body>
<div id="wrapper">
    <!-- Top Bar Start -->
    <div class="topbar">

        <!-- LOGO -->
        <div class="topbar-left" style="background-color: white;">
            <a href="../" class="logo">
                        <span>
                            <img src="/public/assets/images/SAI-Logo.JPG" alt="" height="67">
                        </span>
                <i>
                    <img src="/public/assets/images/SAI-Logo.JPG" alt="" height="22">
                </i>
            </a>
        </div>

        <nav class="navbar-custom">
            <ul class="navbar-right d-flex list-inline float-right mb-0">
                <li class="dropdown notification-list d-none d-sm-block">
                    <form role="search" class="app-search">
                        <div class="form-group mb-0">
                            <input type="text" class="form-control" placeholder="Search..">
                            <button type="submit"><i class="fa fa-search"></i></button>
                        </div>
                    </form>
                </li>
            </ul>

            <ul class="list-inline menu-left mb-0">
                <li class="float-left">
                    <button class="button-menu-mobile open-left waves-effect">
                        <i class="mdi mdi-menu"></i>
                    </button>
                </li>
            </ul>

        </nav>

    </div>
    <!-- Top Bar End -->

    <!-- ========== Left Sidebar Start ========== -->
    <div class="left side-menu">
        <div class="slimscroll-menu" id="remove-scroll">

            <!--- Sidemenu -->
            <div id="sidebar-menu">
                <!-- Left Menu Start -->
                <ul class="metismenu" id="side-menu">
                    <li class="menu-title">CREO Automation</li>
                    <li>
                        <a href="../MBOM" class="waves-effect">
                            <i class="mdi mdi-file-pdf"></i> <span> MBOM </span>
                        </a>
                    </li>
                    <li>
                        <a href="../PDF-DXF-BIN_BOM" class="waves-effect">
                            <i class="mdi mdi-content-duplicate"></i> <span> PDF / DXF / BIN BOM </span>
                        </a>
                    </li>
                    <li>
                        <a href="" class="waves-effect">
                            <i class="mdi mdi-file-pdf"></i> <span> Submittal </span>
                        </a>
                    </li>
                </ul>

            </div>
            <!-- Sidebar -->
            <div class="clearfix"></div>

        </div>
        <!-- Sidebar -left -->

    </div>
    <!-- Left Sidebar End -->

    <div class="content-page">
        <!-- Content Start -->
        <div class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="page-title-box">
                            <h4 class="page-title">Mechanical Engineering - BOM Configure</h4>
                            <div class="row justify-content-center">
                                <div class="col-sm-12">
                                    <div class="card m-b-20">
                                        <div class="card-body">
                                            <h4 class="mt-0 header-title">Current Job</h4>
                                            <form id="jobSelectForm" class="jobSelectForm" action="/saveComItemChanges" method="POST">
                                                <div class="form-group">
                                                    <div class="row">
                                                        <% if(mbomData) { %>
                                                            <div class="col-sm-2">
                                                                <label for="example-text-input" class="col-form-label">Job Number</label>
                                                                <input type="text" name="jobNum" class="form-control" value="<%= mbomData.jobNum %>" placeholder="Type Number Here" id="example-text-input" readonly="readonly">
                                                            </div>
                                                            <div class="col-sm-2">
                                                                <label for="example-text-input" class="col-form-label">Release</label>
                                                                <input type="text" name="releaseNum" class="form-control" value="<%= mbomData.releaseNum %>" placeholder="Type Release Here" id="example-text-input" readonly="readonly">
                                                            </div>
                                                            <div class="col-sm-3">
                                                                <label for="example-text-input" class="col-form-label">Job Name</label>
                                                                <input type="text" name="jobName" class="form-control" value="<%= mbomData.jobName %>" placeholder="Type Name Here" id="example-text-input" readonly="readonly">
                                                            </div>
                                                            <div class="col-sm-2">
                                                                <label for="example-text-input" class="col-form-label">Customer</label>
                                                                <input type="text" name="customer" class="form-control" value="<%= mbomData.customer %>" placeholder="Type Customer Here" id="example-text-input" readonly="readonly">
                                                            </div>
                                                            <div class="col-sm-3">
                                                                <label for="example-text-input" class="col-form-label">Board Designation</label>
                                                                <input type="text" name="boardDesignation" class="form-control" value="<%= mbomData.boardDesignation %>" placeholder="Type Designation Here" id="example-text-input" readonly="readonly">
                                                            </div>
                                                        <% } %>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="card m-b-20">
                                        <div class="card-body">
                                            <h4 class="mt-0 header-title">Item Summary</h4>
                                            <p class="mb-0">
                                                Fill out the following for each layout, and click "Save" afterwards
                                            </p>
                                            <p class="text-muted m-b-30"></p>
                                            <h6>Commonly Used</h6>
                                            <form id="itemForm" class="itemForm" action="/editComItemSave/?itemSumID=<%= mbomItemData[0].itemSumID %>" method="POST">
                                                <div class="form-group">
                                                    <% if(mbomData) { %>
                                                        <div class="col-sm-12">
                                                            <input type="text" name="jobNum" class="form-control" value="<%= mbomData.jobNum %>" id="jobNum" hidden="hidden">
                                                            <input type="text" name="releaseNum" class="form-control" value="<%= mbomData.releaseNum %>" id="releaseNum" hidden="hidden">
                                                            <input type="text" name="mbomID" class="form-control" value="<%= mbomData.mbomID %>" id="mbomID" hidden="hidden">
                                                            <input type="text" name="jobName" class="form-control" value="<%= mbomData.jobName %>" id="jobName" hidden="hidden">
                                                            <input type="text" name="customer" class="form-control" value="<%= mbomData.customer %>" id="customer" hidden="hidden">
                                                            <input type="text" name="boardDesignation" class="form-control" value="<%= mbomData.boardDesignation %>" id="boardDesignation" hidden="hidden">
                                                            <input type="text" name="numSections" class="form-control" value="<%= mbomData.numSections %>" id="numSections" hidden="hidden">
                                                        </div>
                                                    <% } %>
                                                    <% if(mbomItemData) { %>
                                                        <input type="text" name="itemSumID" class="form-control" value="<%= mbomItemData[0].itemSumID %>" hidden="hidden" >
                                                    <% } %>
                                                    <div class="row">
                                                        <div class="col-sm-1">
                                                            <label for="example-text-input" class="col-form-label">Qty</label>
                                                            <input type="number" min="1" name="itemQty" class="form-control" value="<%= mbomItemData[0].itemQty%>" placeholder="#" autocomplete="off" required/>
                                                        </div>
                                                        <div class="col-sm-2">
                                                            <label for="example-text-input" class="col-form-label">Item Type</label>
                                                            <select class="form-control select2" id="itemEditSelect" name="itemType" required>
                                                                <option value="">Select</option>
                                                                <% let itemTypes = new Set();%>
                                                                <% for(let el of comItemData){
                                                                    itemTypes.add(el.itemType);
                                                                } %>
                                                                <% for(let el of itemTypes){ %>
                                                                    <% if(el == editData.itemType){ %>
                                                                        <option value="<%= el%>" selected><%=el%></option>
                                                                    <% } else { %>
                                                                        <option value="<%= el%>"><%=el%></option>
                                                                    <% } %>
                                                                <% } %>
                                                            </select>
                                                        </div>
                                                        <div class="col-sm-2">
                                                            <label for="example-text-input" class="col-form-label">Item Mfg.</label>
                                                            <select class="form-control select2" id="mfgEditSelect" name="itemMfg" required>
                                                                <option data-parent="Select" value="Select">Select</option>
                                                                <% let itemMfg = new Set();%>
                                                                <% for(let el of comItemData){
                                                                    itemMfg.add(el.itemType + "|" + el.itemMfg);
                                                                } %>
                                                                <% for(let el of itemMfg){ %>
                                                                    <% if(el.split('|')[1] == editData.itemMfg){ %>
                                                                        <option data-parent="<%=el.split('|')[0]%>" value="<%= el%>" selected><%= el.split('|')[1]%></option>
                                                                    <% } else { %>
                                                                        <option data-parent="<%=el.split('|')[0]%>" value="<%= el%>"><%= el.split('|')[1]%></option>
                                                                    <% } %>
                                                                <% } %>
                                                            </select>
                                                        </div>
                                                        <div class="col-sm-3">
                                                            <label for="example-text-input" class="col-form-label">Description</label>
                                                            <select class="form-control" id="descEditSelect" name="itemDesc" required>
                                                                <option data-parent="Select" value="Select">Select</option>
                                                                <% for(let el of comItemData){ %>
                                                                    <% if(el.itemDesc == editData.itemDesc){%>
                                                                        <option data-parent="<%=el.itemType%>|<%=el.itemMfg%>" value="<%=el.itemType%>|<%=el.itemMfg%>|<%= el.itemDesc%>" selected><%=el.itemDesc%></option>
                                                                    <% } else { %>
                                                                        <option data-parent="<%=el.itemType%>|<%=el.itemMfg%>" value="<%=el.itemType%>|<%=el.itemMfg%>|<%= el.itemDesc%>"><%=el.itemDesc%></option>
                                                                    <% } %>
                                                                <% } %>
                                                            </select>
                                                        </div>
                                                        <div class="col-sm-2">
                                                            <label for="example-text-input" class="col-form-label">P/N</label>
                                                            <select class="form-control" id="pnEditSelect" name="itemPN">
                                                                <option data-parent="Select" value="Select">Select</option>
                                                                <% for(let el of comItemData){ %>
                                                                <option data-parent="<%=el.itemType%>|<%=el.itemMfg%>|<%= el.itemDesc%>" value="<%=el.itemType%>|<%=el.itemMfg%>|<%= el.itemDesc%>|<%=el.itemPN%>"><%=el.itemPN%></option>
                                                                <% } %>
                                                            </select>
                                                        </div>
                                                        <div class="col-sm-2" style="margin-top: 2rem; padding-left: 3.5rem;">
                                                            <% if(mbomItemData[0].shipLoose == 'Y'){ %>
                                                                <input class="form-check-input" type="checkbox" name="editShipLoose" id="editShipLoose" value="true" style="margin-top: .7rem;" checked="checked"/>
                                                                <label for="editShipLoose" class="col-form-label">Ship Loose Item?</label>
                                                            <% } else { %>
                                                                <input class="form-check-input" type="checkbox" name="editShipLoose" id="editShipLoose" value="true" style="margin-top: .7rem;"/>
                                                                <label for="editShipLoose" class="col-form-label">Ship Loose Item?</label>
                                                            <% } %>
                                                        </div>
                                                    </div>
                                                    <div class="row justify-content-center">
                                                        <div class="col-2" style="padding-top:5%;">
                                                            <input id="uploadBtn" type="submit" value="Save" class="btn-block btn-lg btn-outline-success waves-effect waves-light" onclick=""/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> <!-- container-fluid -->
        </div> <!-- content -->
    </div> <!-- content-page -->
    <footer class="footer">
        Â© 2019 SAI, Advanced Power Solutions Inc.
    </footer>
</div> <!-- wrapper -->


<!-- Responsive-table-->
<script src="/public/plugins/RWD-Table-Patterns/dist/js/rwd-table.min.js"></script>
<script>
    $(function() {
        $('.table-responsive').responsiveTable({
            addDisplayAllBtn: 'btn btn-secondary'
        });
    });
</script>

<!-- Plugins js -->
<script src="/public/plugins/morris/morris.min.js"></script>
<script src="/public/plugins/raphael/raphael-min.js"></script>
<script src="/public/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
<script src="/public/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
<script src="/public/plugins/select2/js/select2.min.js"></script>
<script src="/public/plugins/bootstrap-maxlength/bootstrap-maxlength.min.js"></script>
<script src="/public/plugins/bootstrap-filestyle/js/bootstrap-filestyle.min.js"></script>
<script src="/public/plugins/bootstrap-touchspin/js/jquery.bootstrap-touchspin.min.js"></script>
<script src="/public/plugins/ion-rangeslider/ion.rangeSlider.min.js"></script>
<script src="/public/plugins/jquery-sparkline/jquery.sparkline.min.js"></script>

<!-- Assets js -->
<script src="/public/assets/js/jquery.min.js"></script>
<script src="/public/assets/js/bootstrap.bundle.min.js"></script>
<script src="/public/assets/js/metisMenu.min.js"></script>
<script src="/public/assets/js/jquery.slimscroll.js"></script>
<script src="/public/assets/js/waves.min.js"></script>
<script src="/public/assets/pages/dashboard.js"></script>
<script src="/public/assets/pages/rangeslider-init.js"></script>
<script src="/public/assets/pages/form-advanced.js"></script>
<script src="/public/assets/js/app.js"></script>
<script src="/public/plugins/ion-rangeslider/ion.rangeSlider.min.js"></script>

<!-- User developed scripts -->
<script src="/public/assets/js/mbomDragDrop.js"></script>
<script src="/public/assets/js/mbomFilterDropdown.js"></script>


</body>
</html>